--ALTER SESSION SET CURRENT_SCHEMA=homolog;

Criação do campo AD_TOPVALRET na tgftop

Criação da tabela AD_LOGNOTA
Importar metadados da tabela
Criar lançador

CREATE OR REPLACE PROCEDURE SANKHYA."STP_EXECUTA_COMANDO"  AS
BEGIN
UPDATE TGFTOP
SET   AD_TOPVALRET = 'S',
      AD_TOPNAOVALRET = 'S'
WHERE CODTIPOPER IN (2160, 2912, 3312, 3782, 2229, 2106, 3314, 3780, 3792, 3793, 3320, 2914, 3319, 2204, 3791, 6000, 
                      2155, 3315, 2243, 3782, 3900, 2161, 2251, 3791, 2156, 2158, 2252, 2119, 2208, 3316, 2219, 2150,
                      2238, 2282, 2214, 2235, 3322, 2231, 2233, 2148, 2163, 3317, 2234, 2211, 2149, 2151, 3902, 2140);


UPDATE TGFTOP
SET AD_TOPVALRET = 'N'
WHERE CODTIPOPER = 3312;

COMMIT;

END;


Atualizar triggers :
* AD_TRG_TGFITE_VAL_RETORNO_V2
* AD_TRG_TGFITE_VAL_RETORNO_V3
* AD_STP_VAL_DIVERG
*AD_TRG_TGFCAB_VAL_RETORNO_V2

Substituir o campo AD_TOPNAOVALRET por AD_TOPVALRET


